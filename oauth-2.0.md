# Oauth 2.0ì— ëŒ€í•´

ê°„ë‹¨ ìš”ì•½: OauthëŠ” ì‚¬ìš©ìê°€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì œì‹œí•˜ì§€ ì•Šê³  ë‹¤ë¥¸ ì›¹ ì‚¬ì´íŠ¸ì—ì„œ í˜„ì¬ ì‚¬ì´íŠ¸ì˜ ì ‘ê·¼ ê¶Œí•œì„ ìœ„ì„ ë°›ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ê´€ë ¨ URL: https://developers.payco.com/guide ë¶„ì•¼: ë„¤íŠ¸ì›Œí¬ ìƒì„± ì¼ì‹œ: 2023ë…„ 11ì›” 7ì¼ ì˜¤í›„ 11:32 ì‘ì„±: ê¹€ì£¼í™˜

## OAuthë€?

* ìš°ë¦¬ëŠ” í”í•˜ê²Œ ì¹´ì¹´ì˜¤ë‚˜ êµ¬ê¸€ ì†Œì…œ ë¡œê·¸ì¸ìœ¼ë¡œ ë‹¤ë¥¸ ì‚¬ì´íŠ¸ì—ì„œ ì‰½ê²Œ ë¡œê·¸ì¸, íšŒì›ê°€ì…ì„ í•œë‹¤. ì—°ë™ë˜ëŠ” ì™¸ë¶€ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì´ëŸ° ì¹´ì¹´ì˜¤ë‚˜ êµ¬ê¸€ì´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ê°„í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ëŠ”ë° ì´ë•Œ ì‚¬ìš©ë˜ëŠ” **í”„ë¡œí† ì½œì´ OAuth**ë‹¤.
* OAuthëŠ” ì‚¬ìš©ìë“¤ì´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì œê³µí•˜ì§€ ì•Šê³ , ë‹¤ë¥¸ ì›¹ ì‚¬ì´íŠ¸ì—ì„œ ìì‹ ë“¤ì˜ ì •ë³´ì— ëŒ€í•´ ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•  ìˆ˜ ìˆëŠ” ê³µí†µì ì¸ ìˆ˜ë‹¨ì´ë©°, ì ‘ê·¼ ìœ„ì„ì„ ìœ„í•œ ê°œë°©í˜• í‘œì¤€ì´ë‹¤. ë‹¤ë¥¸ í”Œë«í¼ì˜ ì‚¬ìš©ìì˜ ë°ì´í„°ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ Client(í˜„ì¬ ì„œë¹„ìŠ¤)ê°€ ì‚¬ìš©ìì˜ ì ‘ê·¼ ê¶Œí•œ ìœ„ì„ì„ ë°›ì„ ìˆ˜ ìˆëŠ” í‘œì¤€ í”„ë¡œí† ì½œì´ë‹¤.

### OAuth êµ¬ì„± ìš”ì†Œ

| êµ¬ë¶„                   | ì„¤ëª…                                                                                                                  |
| -------------------- | ------------------------------------------------------------------------------------------------------------------- |
| Resource Owner       | ì‚¬ìš©ì. ê°œì¸ ì •ë³´ë¥¼ ì†Œìœ í•˜ê³  ìˆëŠ” ì£¼ì²´ì´ë©°, ì—¬ê¸°ì„œ Resourceë¥¼ ê°œì¸ì •ë³´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤.                                                             |
| Client               | ìì‚¬, ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„                                                                                                       |
| Authorization Server | ê¶Œí•œì„ ë¶€ì—¬í•´ì£¼ëŠ” ì„œë²„ì´ë‹¤. ì‚¬ìš©ìëŠ” ì´ ì„œë²„ë¡œ ID, PWë¥¼ ë„˜ê²¨ Authorization Codeë¥¼ ë°œê¸‰ë°›ê³ , ClientëŠ” Authorization Codeë¥¼ ì´ ì„œë²„ë¡œ ë„˜ê²¨ Tokenì„ ë°œê¸‰ ë°›ëŠ”ë‹¤. |
| Resource Server      | êµ¬ê¸€ì´ë‚˜ ì¹´ì¹´ì˜¤ì²˜ëŸ¼ ì‚¬ìš©ìì˜ ê°œì¸ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆëŠ” ì„œë²„ì´ë‹¤. ClientëŠ” Tokenì„ ì´ ì„œë²„ë¡œ ë„˜ê²¨ì„œ ê°œì¸ì •ë³´ ì‘ë‹µì„ ë°›ì„ ìˆ˜ ìˆë‹¤.                                      |
| Access Token         | ìì›ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì„ Resource Ownerê°€ ì¸ê°€í–ˆë‹¤ëŠ” ìê²© ì¦ëª…ì´ë‹¤.                                                                        |
| Refresh Token        | Access Tokenì˜ ìœ íš¨ê¸°ê°„ì„ ì§§ì•„ ì‹œê°„ì´ ì§€ë‚˜ë©´ ë§Œë£Œë˜ì–´ ë‹¤ì‹œ ë¡œê·¸ì¸ì„ í•´ì•¼ í•œë‹¤. ì´ë•Œ Refresh Tokenì´ ìˆë‹¤ë©´ ì¬ë°œê¸‰ì„ ë°›ì•„ ì¬ ë¡œê·¸ì¸ì„ í•  í•„ìš”ê°€ ì—†ë‹¤.                   |

* ìœ„ì— paycoì˜ ì˜ˆì‹œì²˜ëŸ¼ ì‚¬ìš©ìê°€ ì§ì ‘ ë¡œê·¸ì¸ì„ í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì•„ë‹ˆë‹¤. í˜„ì¬ ìš°ë¦¬ê°€ ì“°ê³  ìˆëŠ” â€˜ì„œë¹„ìŠ¤(Client)â€™ê°€ ì‚¬ìš©ìë¥¼ ëŒ€ì‹ í•´ ë¡œê·¸ì¸ í•˜ëŠ”ë° Resource Serverì—ì„œ í•„ìš”í•œ ì •ë³´ë¥¼ ì–»ì–´ ìœ íš¨ì„±ì„ íŒë‹¨í•œë‹¤.
* ClientëŠ” ì‚¬ìš©ìì˜ ë™ì˜ë¥¼ ì–»ì–´ ê°œì¸ ì •ë³´ë¥¼ í™œìš©í•˜ê³ , Resource ServerëŠ” Clientë¥¼ êµ¬ë¶„í•˜ëŠ” ê°’ì„ ì „ë‹¬í•˜ê²Œ ëœë‹¤.

### ìŠ¹ì¸ ê³¼ì •

1. ì‚¬ìš©ìëŠ” Client(ì„œë¹„ìŠ¤)ë¥¼ ì´ìš©í•˜ê¸° ìœ„í•´ ë¡œê·¸ì¸ í˜ì´ì§€ì— ì ‘ê·¼í•œë‹¤.
2. ì‚¬ìš©ìê°€ êµ¬ê¸€ ì†Œì…œ ë¡œê·¸ì¸ ë²„íŠ¼ì„ ëˆ„ë¥¸ë‹¤ë©´ íŠ¹ì •í•œ urlì´ êµ¬ê¸€ ì„œë²„ë¡œ ë³´ë‚´ì§„ë‹¤.
3. ê·¸ëŸ¼ Clientì˜ ì„œë¹„ìŠ¤ ì •ë³´ì™€ ì„œë²„ì— ë“±ë¡ëœ ì„œë¹„ìŠ¤ ì •ë³´ë¥¼ ë¹„êµí•œ í›„ í™•ì¸ì´ ì™„ë£Œë˜ë©´ ì „ìš© ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤€ë‹¤.
4. ì‚¬ìš©ìê°€ ID/PWë¥¼ ì…ë ¥í•´ì„œ ë¡œê·¸ì¸ í•˜ë©´ ClientëŠ” ì‚¬ìš©í•˜ë ¤ëŠ” ê¸°ëŠ¥ë“¤ì— ëŒ€í•´ ì‚¬ìš©ìì—ê²Œ ë™ì˜ë¥¼ ìš”ì²­í•œë‹¤.
5. ì‚¬ìš©ìê°€ ë™ì˜í•˜ë©´ ì‚¬ìš©ìê°€ ê¶Œí•œì„ ìœ„ì„í–ˆë‹¤ëŠ” ìŠ¹ì¸ì´ Resource serverë¡œ ë³´ë‚´ì§„ë‹¤.
6. Resource serverë„ Clientì—ê²Œ ê¶Œí•œ ìŠ¹ì¸ì„ í•˜ê¸° ìœ„í•´ Authorization codeë¥¼ ì‚¬ìš©ìì—ê²Œ ë³´ë‚´ë©´ ì‚¬ìš©ìëŠ” ê·¸ëŒ€ë¡œ ë‹¤ì‹œ Clientì—ê²Œ ë³´ë‚¸ë‹¤.
7. Clientê°€ Resource Serverì—ê²Œ url(Client ID, PW, Authorization Code)ì„ ë³´ë‚¸ë‹¤.
8. Resource ServerëŠ” Clientê°€ ì¤€ ì •ë³´ì™€ ë¹„êµí•´ì„œ ì¼ì¹˜í•œë‹¤ë©´ Access Tokenì„ ë°œê¸‰í•˜ê³  í•„ìš” ì—†ì–´ì§„ Authorization Codeë¥¼ ì§€ìš´ë‹¤.
9. í† í°ì„ ë°›ì€ ClientëŠ” ë¡œê·¸ì¸ì´ ì™„ë£Œë˜ì—ˆë‹¤ê³  ì‘ë‹µí•œë‹¤.
10. ClientëŠ” Resource Serverì˜ apië¥¼ ìš”ì²­í•´ ì‚¬ìš©ìì˜ ID, í”„ë¡œí•„ ì •ë³´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### Firebaseì—ì„œ ì†Œì…œ ë¡œê·¸ì¸ ë™ì‘ ì›ë¦¬

* Firebase Authenticationì´ ìœ„ì—ì„œ Authorization Server ì—­í• ì„ í•œë‹¤. êµ¬ê¸€, ì´ë©”ì¼, Facebook ë“±ì˜ ì¸ì¦ ë°©ì‹ì„ ìì‹ ì˜ ì„œë¹„ìŠ¤ì— ì‰½ê²Œ ë¶™ì¼ ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” SaaS ì„œë¹„ìŠ¤ì´ë‹¤.
* êµ¬ê¸€ ë¡œê·¸ì¸ì˜ ê²½ìš°, SHA1, SHA256 ì¸ì¦ì„œ ì§€ë¬¸ì„ ë“±ë¡í•´ì£¼ì–´ì•¼ í•œë‹¤.

> **Reference**

[PAYCO ë¡œê·¸ì¸ ë° PAYCO ë°”ë¡œê°€ì… ê°œë°œ ê°€ì´ë“œ](https://developers.payco.com/guide)

[OAuth 2.0 ê°œë…ê³¼ ë™ì‘ì›ë¦¬](https://hudi.blog/oauth-2.0/)

[ğŸŒ OAuth 2.0 ê°œë… - ê·¸ë¦¼ìœ¼ë¡œ ì´í•´í•˜ê¸° ì‰½ê²Œ ì„¤ëª…](https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-OAuth-20-%EA%B0%9C%EB%85%90-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC)
